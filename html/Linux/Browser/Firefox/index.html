<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Firefox书签清理 - Havanna's wiki</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link type="image/x-icon" rel="icon" href="../../../css/favicon.ico" />
<link type="image/x-icon" rel="shortcut icon" href="../../../css/favicon.ico" />
<link rel="Stylesheet" type="text/css" href="../../../css/style.css" />
<script>var root_path = '../../../';</script> 
</head>
<body>
<div id="all">
<div id="header">
	<ul id="top-nav">
		<li>
			<a href="../../../index.html">首页</a>
		</li>
		<li>
			<a href="http://ihavanna.org/">博客</a>
		</li>
		<li>
			<a href="https://github.com/Havanna/">GitHub</a>
		</li>
	</ul>
</div>
<div id="cse"></div>
<em>聪明难，难的是如何耍聪明，糊涂难，要想装糊涂难上加难。聪明人装糊涂，无非不就是耍聪明。</em>
<div id="main">


<h1 id="toc_1" class="justcenter">Firefox</h1>
<div class="toc">
<ul>
<li><a href="#toc_1">Firefox</a>
<ul>
<li><a href="#toc_1.1">places.sqlite清理</a>
</ul>
</ul>
</div>
<h2 id="toc_1.1">places.sqlite清理</h2>
<pre>
sqlite3 pl.sqlite "DELETE FROM moz_historyvisits WHERE place_id IN (SELECT id FROM moz_places WHERE visit_count &lt;=2 );"
sqlite3 pl.sqlite "DELETE FROM moz_pl WHERE (visit_count &lt;=2 AND hidden &lt;&gt; 1 AND id NOT IN (SELECT place_id FROM moz_annos UNION SELECT fk FROM moz_bookmarks));"
sqlite3 pl.sqlite "DELETE FROM moz_inputhistory WHERE place_id NOT IN (SELECT id FROM moz_places);"
sqlite3 pl.sqlite "DELETE FROM moz_favicons WHERE id NOT IN (SELECT favicon_id FROM moz_pl);"
sqlite3 places.sqlite "VACUUM;"
</pre>


</div>
<div id="footer">
    <p>&copy; 2012 <a href="http://ihavanna.org" target="_blank">Havanna</a> &nbsp;&nbsp; Driven by <a href="http://code.google.com/p/vimwiki/" target="_blank">Vimwiki</a></p>
</div>
</div>
<script src="../../../js/jquery-1.4.2.min.js" type="text/javascript"></script>
<script src="../../../js/vimwiki.js" type="text/javascript"></script>
</body>
</html>
